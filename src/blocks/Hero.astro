---
import { Icon } from "astro-icon/components";
import { urlFor } from "../utils/image";

interface HeroProps {
  hero: {
    image: {
      asset: {
        _ref: string;
      };
      hotspot?: {
        x: number;
        y: number;
        height: number;
        width: number;
      };
      crop?: {
        top: number;
        bottom: number;
        left: number;
        right: number;
      };
    };
    description: string;
  };
}

const { hero } = Astro.props as HeroProps;

const imageUrl = urlFor(hero.image).url();
---

<section class="relative overflow-x-clip">
  <div
    class="rounded-edge relative h-screen flex items-center lg:items-end max-h-[65rem]"
  >
    <div class="primary-overlay z-10"></div>
    <div class="gradient-overlay-bt z-20"></div>
    <div class="gradient-overlay-tb z-20"></div>
    <div
      class="text-white px-10 flex flex-col gap-2 md:gap-0 items-center lg:items-start text-center lg:text-start container lg:mb-28 relative z-30"
    >
      <h1 class="text-white">Silsomzorg</h1>
      <p class="intro sm:w-2/3 lg:w-1/2">
        {hero.description}
      </p>
    </div>
    <div
      style={`background-image: url("${imageUrl}");background-position: ${(hero.image.hotspot?.x ?? 0.5) * 100}% ${(hero.image.hotspot?.y ?? 0.5) * 100}%; `}
      class={`absolute bg-fixed inset-0 bg-no-repeat bg-cover grayscale `}
    >
    </div>
  </div>
  <Icon
    name="shape"
    class="absolute -bottom-[40rem] sm:-bottom-[45rem] md:-bottom-[50rem] lg:-bottom-[55rem] xl:-bottom-[75rem] left-1/2 -translate-x-1/2 w-[200rem] xl:w-[250rem] h-auto"
  />
</section>
